// Copyright 2011 Miyako Komooka
using System;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Media;
using System.Windows.Media.Imaging;

namespace iCalControls {

    public class ClockIcon : iCalControls.Icon {

        public ClockIcon() {
            PixelWidth = 17;
            PixelHeight = 16;
            
            // 0:Transparent, 1:Stroke 2:Fill, 3: White
            Pixels = new int[]{
                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,
                0,0,0,0,1,1,2,2,2,2,2,1,1,0,0,0,0,
                0,0,0,1,2,2,2,1,1,1,2,2,2,1,0,0,0,
                0,0,1,2,2,1,1,3,3,3,1,1,2,2,1,0,0,
                0,0,1,2,1,3,3,3,1,3,3,3,1,2,1,0,0,
                0,1,2,2,1,3,3,3,1,3,3,3,1,2,2,1,0,
                0,1,2,1,3,3,3,3,1,3,3,3,3,1,2,1,0,
                0,1,2,1,3,3,1,1,1,3,3,3,3,1,2,1,0,
                0,1,2,1,3,3,3,3,3,3,3,3,3,1,2,1,0,
                0,1,2,2,1,3,3,3,3,3,3,3,1,2,2,1,0,
                0,0,1,2,1,3,3,3,3,3,3,3,1,2,1,0,0,
                0,0,1,2,2,1,1,3,3,3,1,1,2,2,1,0,0,
                0,0,0,1,2,2,2,1,1,1,2,2,2,1,0,0,0,
                0,0,0,0,1,1,2,2,2,2,2,1,1,0,0,0,0,
                0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,
            };
        }

        protected override void UpdateBitmap()
        {
            if( Image == null ) {
                return;
            }

            int fill = ToArgb( FillColor );
            int stroke = ToArgb( StrokeColor );
            int white = ToArgb( Colors.White );

            Bitmap = new WriteableBitmap( PixelWidth, PixelHeight );
            
            for( int i = 0; i < Bitmap.Pixels.Length; i++ ){
                int index = i;

                switch( this.Pixels[index] ){
                case 1:
                    Bitmap.Pixels[i] = stroke;
                    break;
                case 2:
                    Bitmap.Pixels[i] = fill;
                    break;
                case 3:
                    Bitmap.Pixels[i] = white;
                    break;
                default:
                    Bitmap.Pixels[i] = 0;
                    break;
                }
            }
         
            if( Image != null ) {
                Image.Source = Bitmap;
            }
            // Bitmap.Invalidate();
        }

        /*
00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,
00000000,00000000,00000000,00000000,00000000,FFEC00FE,FF8B8D8B,FF8B8D8B,FF8B8D8B,FF8B8D8B,FF8B8D8B,FFEC00FE,00000000,00000000,00000000,00000000,00000000,
00000000,00000000,00000000,00000000,FF737173,FF8B8D8B,FFFBFDFB,FFFBFDFB,FFFBF5F3,FFF3F1F3,FFF3F1F3,FF8B8D8B,FF737173,00000000,00000000,00000000,00000000,
00000000,00000000,00000000,FF737173,FFFBF5F3,FFFBF5F3,FFFBF5F3,FFA3A5A3,FFA3A5A3,FFA3A5A3,FFF3F1F3,FFEBE9EB,FFDBDDDB,FF737173,00000000,00000000,00000000,
00000000,00000000,FF737173,FFF3F5EB,FFFBF5F3,FFA3A5A3,FFA3A5A3,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFBBBDBB,FFE3E5E3,FFDBDDDB,FF737173,00000000,00000000,
00000000,FFEC00FE,FF8B8D8B,FFF3F1F3,FFA3A5A3,FFFBFDFB,FFFBFDFB,FFFBFDFB,FF7B797B,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFDBDDDB,FF8B8D8B,FFEC00FE,00000000,
00000000,FF8B8D8B,FFEBE9EB,FFF3F1F3,FFA3A5A3,FFFBFDFB,FFFBFDFB,FFFBFDFB,FF7B797B,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFDBDDDB,FFD3D5D3,FF8B8D8B,00000000,
00000000,FF8B8D8B,FFE3E5E3,FFA3A5A3,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FF7B797B,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFD3D5D3,FF8B8D8B,00000000,
00000000,FF8B8D8B,FFEBE9EB,FFA3A5A3,FFFBFDFB,FFFBFDFB,FF7B797B,FF7B797B,FF7B797B,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFD3D5D3,FF8B8D8B,00000000,
00000000,FF8B8D8B,FFDBDDDB,FFA3A5A3,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFCBCDCB,FF8B8D8B,00000000,
00000000,FF8B8D8B,FFDBDDDB,FFDBDDDB,FFBBBDBB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFD3D5D3,FFCBCDCB,FF8B8D8B,00000000,
00000000,00000000,FF8B8D8B,FFD3D5D3,FFBBBDBB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFCBCDCB,FF8B8D8B,00000000,00000000,
00000000,00000000,FF8B8D8B,FFD3D5D3,FFD3D5D3,FFBBBDBB,FFBBBDBB,FFFBFDFB,FFFBFDFB,FFFBFDFB,FFBBBDBB,FFBBBDBB,FFCBCDCB,FFCBCDCB,FF8B8D8B,00000000,00000000,
00000000,00000000,00000000,FF8B8D8B,FFD3D5D3,FFD3D5D3,FFD3D5D3,FFBBBDBB,FFBBBDBB,FFBBBDBB,FFCBCDCB,FFCBCDCB,FFD3D1CB,FF8B8D8B,00000000,00000000,00000000,
00000000,00000000,00000000,00000000,FF8B8D8B,FF8B8D8B,FFCBCDCB,FFCBCDCB,FFCBCDCB,FFCBCDCB,FFCBCDCB,FF8B8D8B,FF8B8D8B,00000000,00000000,00000000,00000000,
00000000,00000000,00000000,00000000,00000000,00000000,FF8B8D8B,FF8B8D8B,FF8B8D8B,FF8B8D8B,FF8B8D8B,00000000,00000000,00000000,00000000,00000000,00000000,
        */        
    }
}


